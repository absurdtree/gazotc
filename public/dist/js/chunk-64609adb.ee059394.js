(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64609adb"],{"526e":function(e,i,t){"use strict";t.r(i);var a=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"chongzhi"},[t("van-nav-bar",{attrs:{title:"提款","right-text":"","left-arrow":"",fixed:!0,placeholder:!0,"z-index":"99"},on:{"click-left":e.goback}}),t("div",{staticClass:"czhiview"},[t("div",{staticClass:"czhiview_form"},[t("div",{staticClass:"czhiview_form_hblist"},[t("div",{staticClass:"czhiview_form_hblist_t"},[e._v("Select currency")]),t("div",{staticClass:"czhiview_form_hblist_ul"},e._l(e.huobi,(function(i,a){return t("div",{key:a,staticClass:"czhiview_form_hblist_item",class:e.hbindex==a?"ac":"",on:{click:function(i){e.hbindex=a}}},[e._v(e._s(i.id))])})),0)]),t("div",{staticClass:"czhiview_form_shurk"},[t("div",{staticClass:"czhiview_form_shurk_t"}),t("div",{staticClass:"czhiview_form_shurk_input"},[t("div",{staticClass:"czhiview_form_shurk_input_l"},[e._v(e._s(e.huobi[e.hbindex]["id"]))]),t("el-input",{attrs:{placeholder:e.$t("message.enterContent")},model:{value:e.je,callback:function(i){e.je=i},expression:"je"}})],1),t("div",{staticClass:"czhiview_form_shurk_msg"},[e._v(" You can withdraw the amount "+e._s((this.huobi[this.hbindex]["je"]/Math.pow(10,e.huobi[e.hbindex]["num"])).toFixed(2))+" ")])]),t("div",{staticClass:"czhiview_form_czhi"},[t("van-button",{attrs:{type:"primary",block:""},on:{click:e.tixianajax}},[e._v("Withdraw money")])],1)])])],1)},n=[],s=(t("c975"),t("a15b"),t("a434"),t("a9e3"),t("d3b7"),t("4d63"),t("ac1f"),t("25f0"),t("5319"),t("1276"),t("96cf"),t("1da1")),r=t("d399"),h=t("6314"),c=t.n(h),o=t("5aac"),u=t.n(o),l=t("db49"),d=[];for(var f in l["a"]["hbi"][l["a"]["key"]])l["a"]["hbi"][l["a"]["key"]][f]["je"]=0,d.push(l["a"]["hbi"][l["a"]["key"]][f]);var b="",v="",m=window.ethereum,p={data:function(){return{huobi:d,hbindex:0,je:0}},watch:{hbindex:function(){this.gethuobizichan()}},mounted:function(){if(this.$route.query.title)for(var e=0;e<this.huobi.length;e++)if(this.huobi[e]["id"]==this.$route.query.title){this.hbindex=e;break}"undefined"===typeof m?alert("Please install the metamask plug-in first"):t(),r["a"].setDefaultOptions("loading",{forbidClick:!1,closeOnClickOverlay:!1,duration:0,overlay:!0});var i=this;function t(){return a.apply(this,arguments)}function a(){return a=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},a=new u.a({network:"mainnet",cacheProvider:!0,providerOptions:t}),e.next=4,a.connect();case 4:n=e.sent,b=new c.a(n),b&&n&&(v=n.selectedAddress,i.gethuobizichan());case 7:case"end":return e.stop()}}),e)}))),a.apply(this,arguments)}},methods:{goback:function(){this.$router.go(-1)},getFNum:function(e){if(e=e.toString(),-1!=e.indexOf("+")&&(e=e.replace("+","")),-1!=e.indexOf("E")||-1!=e.indexOf("e")){var i="",t="",a=null,n=0,s=[],r="",h=e.toString();if("-"==h[0]&&(h=h.substr(1),r="-"),-1!=h.indexOf("E")||-1!=h.indexOf("e")){var c=new RegExp("^(((\\d+.?\\d+)|(\\d+))[Ee]{1}((-(\\d+))|(\\d+)))$","ig");if(a=c.exec(h),null!=a&&(i=a[2],t=a[5],a=null),!i&&!t)return!1;if(n=-1==i.indexOf(".")?0:i.indexOf("."),i=i.replace(".",""),s=i.split(""),Number(t)>=0){var o=i.substr(n),u=0==n?0:o.length;t=Number(t);for(var l=0;l<t-u;l++)s.push("0");t-o.length<0&&s.splice(n+t,0,".")}else{t=t.replace("-",""),t=Number(t);for(var d=0;d<t-n;d++)s.unshift("0");var f=t-n>=0?1:-(t-n);s.splice(f,0,".")}}return i=s.join(""),r+i}return e},gethuobizichan:function(){var e=this,i=new b.eth.Contract(l["a"]["hyue"][l["a"]["key"]]["dotc"]["abi"],l["a"]["hyue"][l["a"]["key"]]["dotc"]["heyue"]);i.methods.balancepro(v,this.huobi[this.hbindex]["heyue"]).call((function(i,t){t&&(e.huobi[e.hbindex]["je"]=t)}))},tixianajax:function(){r["a"].loading({message:"正在提现..."});var e=this.huobi[this.hbindex]["je"],i=this,t=new b.eth.Contract(l["a"]["hyue"][l["a"]["key"]]["dotc"]["abi"],l["a"]["hyue"][l["a"]["key"]]["dotc"]["heyue"]),a=this.je*Math.pow(10,this.huobi[this.hbindex]["num"]);function n(){var a=e-i.je*Math.pow(10,i.huobi[i.hbindex]["num"]);t.methods.balancepro(v,i.huobi[i.hbindex]["heyue"]).call((function(e,t){t&&(t==a?(r["a"].clear(),r["a"].success("提现成功..."),i.gethuobizichan(),i.je=0):setTimeout((function(){n()}),3e3))}))}a=i.getFNum(a),Number(e)>=Number(a)?t.methods.withdraw(this.huobi[this.hbindex]["heyue"],a).send({from:v},(function(e,i){i?n():(r["a"].clear(),r["a"].fail("请同意授权！"))})):(r["a"].clear(),r["a"].fail("支取金额不能超过支取限额"))}}},_=p,w=(t("6aa0"),t("2877")),x=Object(w["a"])(_,a,n,!1,null,"1f1d51f0",null);i["default"]=x.exports},"6aa0":function(e,i,t){"use strict";t("a526")},a526:function(e,i,t){}}]);